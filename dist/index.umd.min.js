!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("js-cookie")):"function"==typeof define&&define.amd?define(["js-cookie"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Storage=t(e.Cookies)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}var p=function(){function e(t){r(this,e),this.options=Object.assign({},{namespace:"",storage:"local"},t),Object.defineProperty(this,"length",{get:function(){return Object.keys(this.storage.get()).length}});var o=null;switch(this.options.storage){case"local":o="localStorage"in window?window.localStorage:null;break;case"session":o="sessionStorage"in window?window.sessionStorage:null;break;case"cookie":o=n.default}this.storage=o}return s(e,[{key:"set",value:function(){}},{key:"get",value:function(){}},{key:"remove",value:function(){}},{key:"clear",value:function(){}}]),e}(),h=function(e){a(n,e);var t=f(n);function n(e){return r(this,n),t.call(this,e)}return s(n,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.storage.set(this.options.namespace+e,JSON.stringify({value:t}),n)}},{key:"get",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.storage.get(this.options.namespace+e);return""!==o&&void 0!==o?null===(t=JSON.parse(o))||void 0===t?void 0:t.value:n}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.storage.remove(this.options.namespace+e,t)}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==this.length){for(var t=[],n=0;n<this.length;n++){var o=Object.keys(this.storage.get())[n],r=new RegExp("^".concat(this.options.namespace,".+"),"i");!1!==r.test(o)&&t.push(o)}for(var i in t)this.storage.remove(t[i],e)}}}]),n}(p),v=function(e){a(n,e);var t=f(n);function n(e){return r(this,n),t.call(this,e)}return s(n,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n||{},i=r.expires,s=null;i&&("number"==typeof i&&((s=new Date).setDate(s.getDate()+i),s=new Date(s)),"object"===o(i)&&(s=i));var a=JSON.stringify({value:t,expires:s||null});this.storage.setItem(this.options.namespace+e,a)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.storage.getItem(this.options.namespace+e);if(null!==n)try{var o=JSON.parse(n);if(null===o.expires)return o.value;if(new Date(o.expires).getTime()>=(new Date).getTime())return o.value;this.remove(e)}catch(e){return t}return t}},{key:"remove",value:function(e){return this.storage.removeItem(this.options.namespace+e)}},{key:"clear",value:function(){if(0!==this.length){for(var e=[],t=0;t<this.length;t++){var n=this.storage.key(t);!1!==new RegExp("^".concat(this.options.namespace,".+"),"i").test(n)&&e.push(n)}for(var o in e)this.storage.removeItem(e[o])}}}]),n}(p);return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.local=new v(Object.assign({},t,{storage:"local"})),this.session=new v(Object.assign({},t,{storage:"session"})),this.cookie=new h(Object.assign({},t,{storage:"cookie"}))}}));
